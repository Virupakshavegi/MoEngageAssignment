{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/virupaksha/Downloads/MERN STACK/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/virupaksha/Downloads/MERN STACK/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";//date fns\nimport formatDistanceToNow from\"date-fns/formatDistanceToNow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkDetails=function WorkDetails(_ref){var workout=_ref.workout;var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch(\"/api/workouts/\"+workout._id,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(user.token)}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;//the document that was just deleted\nif(response.ok){dispatch({type:\"DELETE_WORKOUT\",payload:json});}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"workout-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:workout.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Load(kg):\"}),workout.load]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reps:\"}),workout.reps]}),/*#__PURE__*/_jsx(\"p\",{children:formatDistanceToNow(new Date(workout.createdAt),{addSuffix:true})}),/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",onClick:handleClick,children:\"delete\"})]});};export default WorkDetails;","map":{"version":3,"names":["useWorkoutsContext","useAuthContext","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","WorkDetails","_ref","workout","_useWorkoutsContext","dispatch","_useAuthContext","user","handleClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","json","wrap","_callee$","_context","prev","next","abrupt","fetch","_id","method","headers","Authorization","concat","token","sent","ok","type","payload","stop","apply","arguments","className","children","title","load","reps","Date","createdAt","addSuffix","onClick"],"sources":["C:/Users/virupaksha/Downloads/MERN STACK/frontend/src/components/WorkDetails.js"],"sourcesContent":["import { useWorkoutsContext } from \"../hooks/useWorkoutsContext\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n//date fns\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\nconst WorkDetails = ({ workout }) => {\r\n  const { dispatch } = useWorkoutsContext();\r\n  const { user } = useAuthContext();\r\n  const handleClick = async () => {\r\n    if (!user) {\r\n      return;\r\n    }\r\n    const response = await fetch(\"/api/workouts/\" + workout._id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n\r\n    // const response = await fetch(\"/api/workouts/\" + workout._id, {\r\n    //   method: \"DELETE\",\r\n    // });\r\n    const json = await response.json(); //the document that was just deleted\r\n    if (response.ok) {\r\n      dispatch({ type: \"DELETE_WORKOUT\", payload: json });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"workout-details\">\r\n      <h4>{workout.title}</h4>\r\n      <p>\r\n        <strong>Load(kg):</strong>\r\n        {workout.load}\r\n      </p>\r\n      <p>\r\n        <strong>Reps:</strong>\r\n        {workout.reps}\r\n      </p>\r\n      {/* <p>{workout.createdAt}</p> */}\r\n      <p>\r\n        {formatDistanceToNow(new Date(workout.createdAt), { addSuffix: true })}\r\n      </p>\r\n      <span className=\"material-symbols-outlined\" onClick={handleClick}>\r\n        delete\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkDetails;\r\n"],"mappings":"8RAAA,OAASA,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,cAAc,KAAQ,yBAAyB,CACxD;AACA,MAAO,CAAAC,mBAAmB,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/D,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAoB,IAAd,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC5B,IAAAC,mBAAA,CAAqBV,kBAAkB,CAAC,CAAC,CAAjCW,QAAQ,CAAAD,mBAAA,CAARC,QAAQ,CAChB,IAAAC,eAAA,CAAiBX,cAAc,CAAC,CAAC,CAAzBY,IAAI,CAAAD,eAAA,CAAJC,IAAI,CACZ,GAAM,CAAAC,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,YACbb,IAAI,EAAAW,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAG,MAAA,kBAAAH,QAAA,CAAAE,IAAA,SAGc,CAAAE,KAAK,CAAC,gBAAgB,CAAGnB,OAAO,CAACoB,GAAG,CAAE,CAC3DC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYpB,IAAI,CAACqB,KAAK,CACrC,CACF,CAAC,CAAC,QALId,QAAQ,CAAAI,QAAA,CAAAW,IAAA,CAAAX,QAAA,CAAAE,IAAA,SAUK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAW,IAAA,CAA0B;AACpC,GAAIf,QAAQ,CAACgB,EAAE,CAAE,CACfzB,QAAQ,CAAC,CAAE0B,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAEjB,IAAK,CAAC,CAAC,CACrD,CAAC,wBAAAG,QAAA,CAAAe,IAAA,MAAApB,OAAA,GACF,kBAlBK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAAyB,KAAA,MAAAC,SAAA,OAkBhB,CACD,mBACEnC,KAAA,QAAKoC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvC,IAAA,OAAAuC,QAAA,CAAKlC,OAAO,CAACmC,KAAK,CAAK,CAAC,cACxBtC,KAAA,MAAAqC,QAAA,eACEvC,IAAA,WAAAuC,QAAA,CAAQ,WAAS,CAAQ,CAAC,CACzBlC,OAAO,CAACoC,IAAI,EACZ,CAAC,cACJvC,KAAA,MAAAqC,QAAA,eACEvC,IAAA,WAAAuC,QAAA,CAAQ,OAAK,CAAQ,CAAC,CACrBlC,OAAO,CAACqC,IAAI,EACZ,CAAC,cAEJ1C,IAAA,MAAAuC,QAAA,CACGzC,mBAAmB,CAAC,GAAI,CAAA6C,IAAI,CAACtC,OAAO,CAACuC,SAAS,CAAC,CAAE,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,CACrE,CAAC,cACJ7C,IAAA,SAAMsC,SAAS,CAAC,2BAA2B,CAACQ,OAAO,CAAEpC,WAAY,CAAA6B,QAAA,CAAC,QAElE,CAAM,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAApC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}